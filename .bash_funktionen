#************************************************
#               arithmetik
#************************************************

# schneide float ab -> int
fk_cutfloat()
{
	float=$1
	int=${float%.*}
	echo $int
}

#************************************************
#               utilities
#************************************************

# openssl password generator
fk_passwdgen() {
	openssl rand -base64 "$1"
}

# cd & ls
fk_cl() 
{
	local dir="$1"
	local dir="${dir:=$HOME}"
	if [[ -d "$dir" ]]; then
		cd "$dir" >/dev/null; ls
	else
		echo "bash: cl: $dir: Directory not found"
	fi
}

# nano empty existing file
fk_cnano()
{
	echo "" > $1
	nano $1
}

# vim empty file
fk_cvim()
{
	echo "" > $1
	vim $1
}

# mkdir -p & cd
fk_mkcd() 
{
  	mkdir -p "$1"
  	cd "$1"
}

# cd .. n times
.. ()
{
    	local arg=${1:-1};
    	local dir=""
    	while [ $arg -gt 0 ]; do
        	dir="../$dir"
        	arg=$(($arg - 1));
    	done
    	cd $dir >&/dev/null
}

#Grep process | Usage: psgrep <process>
fk_psgrep()
{ 
	ps axuf | grep -v grep | grep "$@" -i --color=auto; 
}

#start command in bg, redir output to /dev/null
fk_s()
{
	("$@" & disown ) >/dev/null 2>&1 </dev/null
  	which "$1" >/dev/null 2>&1
}

#************************************************
#               extrahier funktion
#************************************************

fk_extract() 
{
  	if [ -f $1 ] ; then
	      	case $1 in
        	  	*.tar.bz2)   tar xvjf $1    ;;
        		*.tar.gz)    tar xvzf $1    ;;
		        *.bz2)       bunzip2 $1     ;;
        		*.rar)       rar x $1       ;;
	        	*.gz)        gunzip $1      ;;
	          	*.tar)       tar xvf $1     ;;
        	  	*.tbz2)      tar xvjf $1    ;;
          		*.tgz)       tar xvzf $1    ;;
	          	*.zip)       unzip $1       ;;
        	  	*.Z)         uncompress $1  ;;
          		*.7z)        7z x $1        ;;
	          	*)           echo "don't know how to extract '$1'..." ;;
      		esac
  	else
      		echo "'$1' is not a valid file!"
  	fi
}

#************************************************
#               wetter
#************************************************

# wetter
fk_wttr() 
{
	curl http://wttr.in/$1
}

#************************************************
#               alias hinzufÃ¼gen
#************************************************

fk_addalias() 
{
	echo alias "$1"="'$2'" >> ~/.bash_aliases;
	source ~/.bashrc
}
fk_addpralias()
{
	echo alias "$1"="'$2'" >> ~/.bash_projekte;
	source ~/.bashrc
}

#************************************************
#               bash programmierung www
#************************************************

fk_bandit()
{
	cat ~/bandit/bandit"$1"
	ssh bandit"$1"@bandit.labs.overthewire.org -p 2220
}

fk_addbanditkey()
{
    echo "$1" > ~/bandit/bandit"$2"
}
